{"version":3,"file":"bundle.js","sources":["../../src/scripts/WorkerBotWrapper.js","../../src/scripts/index.js","../../src/scripts/utils.js"],"sourcesContent":["/*eslint no-unused-vars:0*/\r\nexport default class WorkerBotWrapper {\r\n\tconstructor(x, y, botClass) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.gold = 0;\r\n\t\tthis.bot = new botClass(x, y);\r\n\t\tthis.name = botClass.name;\r\n\t\tthis.stunnedRound = -1;\r\n\t}\r\n\tperformAction(surrondings, message) {\r\n\t\tthis.bot.performAction(surrondings, message);\r\n\t}\r\n\tsendMessage(surrondings) {\r\n\t\tthis.bot.sendMessage(surrondings);\r\n\t}\r\n}\r\n","import WorkerBotWrapper from \"./WorkerBotWrapper.js\";\r\nimport { debounce } from \"./utils.js\";\r\nlet canvas = document.getElementById(\"grid\");\r\nconst CANVAS_SIZE = canvas.width;\r\nconst SQUARE_SIZE = CANVAS_SIZE / 100;\r\nlet context = canvas.getContext(\"2d\");\r\nlet gridlines = true;\r\nlet botClasses = [];\r\nlet displayInterval = 100;\r\nif (window.Worker) {\r\n\tlet worker = new Worker(\"./worker.js\");\r\n\tworker.postMessage(botClasses);\r\n\tworker.onmessage = debounce(function(grid) {\r\n\t\tconsole.log(grid);\r\n\t\tfor (let i = 0; i < 100; i++) {\r\n\t\t\tfor (let j = 0; j < 100; j++) {\r\n\t\t\t\tlet square = grid[i][j];\r\n\t\t\t\tlet dimensions = [\r\n\t\t\t\t\ti * SQUARE_SIZE,\r\n\t\t\t\t\tj * SQUARE_SIZE,\r\n\t\t\t\t\tSQUARE_SIZE,\r\n\t\t\t\t\tSQUARE_SIZE\r\n\t\t\t\t];\r\n\t\t\t\tif (square !== undefined) {\r\n\t\t\t\t\tif (square === \"C\") {\r\n\t\t\t\t\t\t//coin\r\n\t\t\t\t\t\tcontext.fillstyle = \"rgb(255,255,0)\";\r\n\t\t\t\t\t} else if (square instanceof WorkerBotWrapper) {\r\n\t\t\t\t\t\tcontext.fillstyle = square.color;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.fillRect(...dimensions);\r\n\t\t\t\t} else if (gridlines) {\r\n\t\t\t\t\tcontext.lineWidth = 0.3;\r\n\t\t\t\t\tcontext.strokestyle = \"rgb(20,20,20)\";\r\n\t\t\t\t\tcontext.strokeRect(...dimensions);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, displayInterval);\r\n} else {\r\n\tconsole.error(\"Worker API Unsupported. Please use another browser\");\r\n}\r\n","//from https://stackoverflow.com/a/1527820/\r\nlet randInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\r\n//from https://stackoverflow.com/a/12646864/7941251\r\nfunction shuffle(array) {\r\n\t//in place\r\n\tarray;\r\n\tfor (var i = array.length - 1; i > 0; i--) {\r\n\t\tvar j = Math.floor(Math.random() * (i + 1));\r\n\t\tvar temp = array[i];\r\n\t\tarray[i] = array[j];\r\n\t\tarray[j] = temp;\r\n\t}\r\n}\r\n//adapted from https://davidwalsh.name/essential-javascript-functions\r\nfunction debounce(func, wait, immediate) {\r\n\tlet timeout;\r\n\treturn function() {\r\n\t\tlet context = this,\r\n\t\t\targs = arguments;\r\n\t\tlet later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) {\r\n\t\t\t\tfunc.apply(context, args);\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) {\r\n\t\t\tfunc.apply(context, args);\r\n\t\t}\r\n\t};\r\n}\r\nexport { randInt, shuffle, debounce };\r\n"],"names":["WorkerBotWrapper","constructor","x","y","botClass","gold","bot","name","stunnedRound","performAction","surrondings","message","sendMessage","canvas","document","getElementById","SQUARE_SIZE","width","context","getContext","botClasses","window","Worker","worker","postMessage","onmessage","func","wait","immediate","timeout","this","args","arguments","later","apply","callNow","debounce","clearTimeout","setTimeout","grid","console","log","i","j","square","dimensions","undefined","fillstyle","color","fillRect","lineWidth","strokestyle","strokeRect","error"],"mappings":"yBACe,MAAMA,iBACpBC,YAAYC,EAAGC,EAAGC,QACZF,EAAIA,OACJC,EAAIA,OACJE,KAAO,OACPC,IAAM,IAAIF,EAASF,EAAGC,QACtBI,KAAOH,EAASG,UAChBC,cAAgB,EAEtBC,cAAcC,EAAaC,QACrBL,IAAIG,cAAcC,EAAaC,GAErCC,YAAYF,QACNJ,IAAIM,YAAYF,ICZvB,IAAIG,EAASC,SAASC,eAAe,QACrC,MACMC,EADcH,EAAOI,MACO,IAClC,IAAIC,EAAUL,EAAOM,WAAW,MAE5BC,EAAa,GAEjB,GAAIC,OAAOC,OAAQ,KACdC,EAAS,IAAID,OAAO,eACxBC,EAAOC,YAAYJ,GACnBG,EAAOE,UCER,SAAkBC,EAAMC,EAAMC,OACzBC,SACG,eACFX,EAAUY,KACbC,EAAOC,UACJC,EAAQ,WACXJ,EAAU,KAETH,EAAKQ,MAAMhB,EAASa,IAGlBI,ODbcC,ECclBC,aAAaR,GACbA,EAAUS,WAAWL,EDnBD,KCoBhBE,GACHT,EAAKQ,MAAMhB,EAASa,IDjBHK,CAAS,SAASG,GACpCC,QAAQC,IAAIF,OACP,IAAIG,EAAI,EAAGA,EAAI,IAAKA,QACnB,IAAIC,EAAI,EAAGA,EAAI,IAAKA,IAAK,KACzBC,EAASL,EAAKG,GAAGC,GACjBE,EAAa,CAChBH,EAAI1B,EACJ2B,EAAI3B,EACJA,EACAA,QAEc8B,IAAXF,GACY,MAAXA,EAEH1B,EAAQ6B,UAAY,iBACVH,aAAkB5C,mBAC5BkB,EAAQ6B,UAAYH,EAAOI,OAE5B9B,EAAQ+B,YAAYJ,KAEpB3B,EAAQgC,UAAY,GACpBhC,EAAQiC,YAAc,gBACtBjC,EAAQkC,cAAcP,YAM1BL,QAAQa,MAAM"}