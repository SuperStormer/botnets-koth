!function(){"use strict";let e=document.getElementById("grid");const t=e.width/100;let n=e.getContext("2d"),o=[function(){return{name:"SampleBotnet",color:"red",controllerBot:class extends class{constructor(e){this.storage=""}sendMessage(e,t){return""}}{constructor(e){super(e),this.storage=""}sendMessage(e,t){let n=e.find(e=>e[0]===t)[1],o=n.findIndex((e,t)=>"B"===e&&[6,7,8,11,13,16,17,18].includes(t));if(-1!==o)return["kill",o];let r=n.findIndex((e,t)=>"C"===e&&[6,7,8,11,13,16,17,18].includes(t));if(-1!==r)return["move",r];let l=[6,7,8,11,13,16,17,18].filter(e=>""===n[e]);return["move",l[Math.floor(Math.random()*l.length)]]}},workerBot:class extends class{constructor(e){this.index=e}performAction(e){}sendMessage(e,t,n){}}{performAction(e){return e}sendMessage(e,t,n){return[this.index,n]}}}}.toString()],r=document.getElementById("round-counter"),l=void 0;function s(){l.terminate(),delete window.worker}window.Worker?(document.getElementById("run-game").addEventListener("click",function(d){d.preventDefault(),r.textContent="0";let a,c=parseInt(document.getElementById("display-interval").value,10),i=document.getElementById("test-botnet").value;a=i.length>0?o.concat(i):o,l&&s(),(l=new Worker("./worker.js")).postMessage({botClasses:a,rounds:1e3,displayInterval:c}),l.onmessage=function(o){"update"===o.data[0]?function(o){n.clearRect(0,0,e.width,e.height),r.textContent=parseInt(r.textContent,10)+1;for(let e=0;e<100;e++)for(let r=0;r<100;r++){let l=o[e][r],s=[e*t,r*t,t,t];""!==l?("C"===l?n.fillStyle="rgb(255,255,0)":"B"===l[0]?n.fillStyle=l[1]:console.error("Invalid Square:".concat(l)),n.fillRect(...s)):(n.lineWidth=.3,n.strokeStyle="rgb(20,20,20)",n.strokeRect(...s))}}(o.data[1]):"end"===o.data[0]&&(function(e){let t=document.getElementById("rankings");t.innerHTML="";for(let n of e){let e=document.createElement("li");e.append("".concat(n[0],": ").concat(n[1]," Gold")),t.append(e)}console.log(e)}(o.data[1]),s())}}),document.getElementById("stop-game").addEventListener("click",s)):console.error("Worker API Unsupported. Please use another browser")}();
//# sourceMappingURL=bundle.js.map
